# 서울시 토지거래허가구역 크롤러

서울시 토지거래허가구역 정보를 자동으로 수집하여 CSV 파일로 저장하는 프로그램입니다.

## 주요 기능

- 서울시 25개 구/군의 토지거래허가구역 정보 자동 수집
- 지번 주소 → 도로명 주소 자동 변환
- 주소 → 위도/경도 좌표 자동 변환
- 사용자 친화적인 GUI 인터페이스
- Windows/Mac 실행 파일 지원

## GUI 버전 사용 방법

### 1. 프로그램 실행

#### 개발 환경이 있는 경우
```bash
# 의존성 설치 (최초 1회)
uv sync

# 프로그램 실행 (웹 버전)
uv run python 토지거래허가구역_Playwright_Web-GUI.py
```

#### 실행 파일 사용 (개발 환경 없는 경우)
- Windows: `토지거래허가구역크롤러.exe` 더블클릭
- Mac: `토지거래허가구역크롤러.app` 더블클릭

### 2. 설정

1. **API 키 설정**
   - 주소 변환 API 키: 기본값이 입력되어 있습니다
   - 카카오 API 키: 기본값이 입력되어 있습니다
   - 필요시 본인의 API 키로 변경 가능

2. **수집 기간 설정**
   - 시작 날짜: 데이터 수집 시작일 (예: 2025-11-01)
   - 종료 날짜: 데이터 수집 종료일 (기본값: 오늘)

3. **저장 경로 설정**
   - "찾아보기" 버튼을 클릭하여 CSV 파일을 저장할 폴더 선택
   - 기본값: 바탕화면

4. **Headless 모드**
   - 체크: 브라우저 창을 숨기고 백그라운드에서 실행 (빠름)
   - 체크 해제: 브라우저 창을 보면서 진행 상황 확인 (디버깅용)

### 3. 실행

1. "크롤링 시작" 버튼 클릭
2. 진행 상황을 로그 창에서 확인
3. 완료되면 지정한 폴더에 CSV 파일이 저장됩니다

### 4. 결과 파일

- 파일명: `토지거래허가구역_서울_YYMMDD.csv`
- 컬럼:
  - 연번
  - 주소 (지번)
  - 지번(지목)
  - 허가년월일
  - 이용목적
  - 이용의무종료일
  - 허가사항
  - 도로명주소 (자동 변환)
  - 위도 (자동 변환)
  - 경도 (자동 변환)

## 실행 파일 빌드 방법

### Mac/Linux
```bash
# 실행 권한 부여
chmod +x build_app.sh

# 빌드 실행
./build_app.sh
```

### Windows
```cmd
# 빌드 실행
build_app.bat
```

빌드가 완료되면 `dist` 폴더에 실행 파일이 생성됩니다.

## CLI 버전 사용 방법

GUI 없이 명령줄에서 실행하고 싶은 경우:

### Selenium 버전
```bash
uv run python 토지거래허가구역+도로명주소+좌표_서울.py
```

### Playwright 버전
```bash
uv run python 토지거래허가구역+도로명주소+좌표_서울_playwright.py
```

## 기술 스택

- **Python**: 3.11+
- **GUI**: tkinter (Python 내장)
- **웹 크롤링**: Playwright
- **데이터 처리**: pandas
- **패키징**: PyInstaller
- **프로젝트 관리**: uv

## API 키 발급 방법

### 주소 변환 API (행정안전부)
1. [주소기반산업지원서비스](https://business.juso.go.kr/) 접속
2. 회원가입 및 로그인
3. 신청관리 → API 신청
4. 승인 후 API 키 발급

### 카카오 지오코딩 API
1. [Kakao Developers](https://developers.kakao.com/) 접속
2. 내 애플리케이션 → 애플리케이션 추가하기
3. 앱 설정 → 요약 정보에서 REST API 키 확인

## 주의사항

- 크롤링 대상 웹사이트의 이용약관을 준수해주세요
- API 사용량 제한에 유의해주세요
- 대량의 데이터 수집 시 시간이 오래 걸릴 수 있습니다
- Headless 모드가 더 빠르지만, 문제 발생 시 창을 켜서 확인하세요

## 문제 해결

### "Playwright 브라우저가 없습니다" 오류
```bash
uv run playwright install chromium
```

### GUI 프로그램이 실행되지 않음
- Python 3.11 이상이 설치되어 있는지 확인
- 의존성이 설치되어 있는지 확인: `uv sync`

### 데이터가 수집되지 않음
- API 키가 유효한지 확인
- 날짜 형식이 올바른지 확인 (YYYY-MM-DD)
- 인터넷 연결 상태 확인

## 라이선스

이 프로젝트는 개인 및 비상업적 용도로 자유롭게 사용할 수 있습니다.

## 개발자

Vibe Coding Project
